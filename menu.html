<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†ÙŠÙˆÙˆÙˆÙˆ ØªÙØ§Ø¹Ù„ÙŠ Ù…Ø¹ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø³Ù„Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --gold:#ffc107; --dark-bg:#1a1512; --card-bg:#221c19; --card-bg-dark:#1f1a17;
  --text-color:#f0f0f0; --light-text:#b0b0b0; --old-brown:#3e3224; --red:#dc3545;
}
body {background-color:var(--dark-bg); color:var(--text-color); font-family:'Cairo',sans-serif; margin:0; padding-top:130px; direction:rtl;}
header {background-color:var(--card-bg-dark); padding:10px 15px; box-shadow:0 4px 8px rgba(0,0,0,0.4); display:flex; justify-content:space-between; align-items:center; position:fixed; top:0; left:0; right:0; z-index:1000;}
header div {display:flex; align-items:center;}
header img {height:60px; object-fit:contain; margin-right:15px; border-radius:8px;}
#searchBar {width:calc(100%-30px); margin:6px 15px; padding:10px; border-radius:20px; border:1px solid var(--old-brown); background-color:var(--card-bg); color:var(--text-color); font-size:1rem;}
#searchBar::placeholder{color:var(--light-text);}
#sections {display:flex; overflow-x:auto; padding:15px; gap:10px; white-space:nowrap; border-bottom:1px solid var(--old-brown); margin-bottom:15px; position:sticky; top:90px; z-index:999; background-color:var(--dark-bg);}
.sections-sticky {box-shadow:0 6px 10px rgba(0,0,0,0.6);}
.sec-card {min-width:90px; padding:8px; border-radius:10px; background-color:var(--card-bg); text-align:center; cursor:pointer; transition:background-color 0.2s, transform 0.1s; border:2px solid transparent;}
.sec-card:hover {background-color:var(--old-brown);}
.sec-card.active {border-color:var(--gold); background-color:var(--old-brown);}
.sec-card img {width:100%; height:60px; object-fit:cover; border-radius:6px;}
.sec-name {margin-top:5px; font-size:0.8rem; font-weight:700;}
#menuList {display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:15px; padding:0 15px 15px;}
.card {background-color:var(--card-bg); border-radius:10px; overflow:hidden; box-shadow:0 4px 10px rgba(0,0,0,0.3); position:relative; padding-bottom:15px; opacity:0; transform:translateY(20px); animation:fadeUp 0.5s forwards; transition: transform 0.3s, box-shadow 0.3s;}
.card img {width:100%; height:140px; object-fit:cover; margin-bottom:10px;}
.card h3 {font-size:1.1rem; margin:0 10px 5px; color:var(--gold);}
.card p {font-size:0.8rem; margin:0 10px 10px; color:var(--light-text);}
.price {font-size:1.2rem; font-weight:800; margin:0 10px 15px; display:flex; flex-direction:column;}
.add-btn {display:block; width:calc(100%-20px); margin:0 10px; padding:10px; background-color:var(--gold); color:var(--old-brown); border:none; border-radius:8px; font-weight:700; cursor:pointer; transition:background-color 0.2s, transform 0.2s;}
.add-btn:hover {background-color:#e0ac10;}
.add-btn:active {transform:scale(1.05);}
.unavailable-card {opacity:0.6;}
.discount-card {border:2px solid var(--red);}
.old-price {font-size:0.9rem; color:var(--light-text); text-decoration:line-through; font-weight:400;}
.discount-price {color:var(--red); font-size:1.25rem;}
.best-seller-badge {position:absolute; top:5px; right:5px; background:#4CAF50; color:white; padding:4px 8px; border-radius:5px; font-size:0.75rem; font-weight:700;}
#cartBtn {position:fixed; bottom:20px; right:20px; background-color:var(--gold); color:var(--old-brown); border:none; border-radius:50%; width:60px; height:60px; font-size:1.5rem; box-shadow:0 4px 12px rgba(0,0,0,0.4); cursor:pointer; z-index:1001; transition: transform 0.1s;}
#cartBtn:active {transform:scale(0.95);}
#cartBtn span {position:absolute; top:-5px; right:-5px; background-color:var(--red); color:white; border-radius:50%; padding:3px 7px; font-size:0.8rem; font-weight:700; line-height:1;}
.flash-cart-btn {animation:flash 0.4s 2;}
#cartOverlay {position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.6); z-index:1002; display:none;}
#cartOverlay.show {display:block;}
#cartDrawer {position:fixed; bottom:0; left:0; right:0; max-height:90vh; background-color:var(--card-bg-dark); z-index:1003; transform:translateY(100%); transition:transform 0.3s ease-out; border-top-left-radius:15px; border-top-right-radius:15px; display:flex; flex-direction:column;}
#cartDrawer.open {transform:translateY(0);}
.cart-header {display:flex; justify-content:space-between; align-items:center; padding:15px; font-size:1.2rem; font-weight:800; color:var(--gold); border-bottom:1px solid var(--old-brown);}
#closeCartBtn {background:none; border:none; color:var(--text-color); font-size:1.2rem; cursor:pointer;}
#cartItems {padding:15px; overflow-y:auto; flex-grow:1;}
.cart-row {display:flex; justify-content:space-between; align-items:center; padding:10px 0; border-bottom:1px dashed var(--old-brown); gap:10px;}
.cart-row:last-child {border-bottom:none;}
.controls {display:flex; align-items:center; flex-shrink:0;}
.controls button {background-color:var(--gold); color:var(--old-brown); border:none; border-radius:4px; width:30px; height:30px; font-size:1.1rem; font-weight:700; cursor:pointer;}
.item-note-display {font-size:0.8rem; color:var(--red); margin-top:4px;}
.cart-footer {padding:15px; border-top:1px solid var(--old-brown); flex-shrink:0;}
.total-line {display:flex; justify-content:space-between; margin-bottom:5px;}
.total-line span:first-child {color:var(--light-text);}
.final-total-line {font-size:1.3rem; font-weight:800; color:var(--gold); border-top:2px solid var(--old-brown); padding-top:8px; margin-top:10px;}
.primary-btn {padding:12px; background-color:#4CAF50; color:white; border:none; border-radius:8px; font-size:1.1rem; font-weight:700; cursor:pointer; transition:background-color 0.2s;}
.primary-btn:hover {background-color:#45a049;}
.danger-btn {background-color:var(--red); color:white; padding:12px; border:none; border-radius:8px; font-size:1rem; font-weight:700; cursor:pointer;}
@keyframes fadeUp {to {opacity:1; transform:translateY(0);}}
@keyframes flash {0%{transform:scale(1);}50%{transform:scale(1.15); background-color:#4CAF50;}100%{transform:scale(1);}}
.flying-img {position:absolute; width:60px; height:60px; border-radius:50%; pointer-events:none; transition:transform 0.8s cubic-bezier(0.65,-0.1,0.3,1.5), opacity 0.8s;}
</style>
</head>
<body>

<header>
  <div>
    <img src="https://via.placeholder.com/60x60.png?text=Logo" alt="Logo">
    <input type="text" id="searchBar" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙˆØ¬Ø¨Ø©...">
  </div>
</header>

<div id="sections">
  <div class="sec-card active"><img src="https://via.placeholder.com/80x60.png?text=Ø£Ø·Ø¨Ø§Ù‚"><div class="sec-name">Ø£Ø·Ø¨Ø§Ù‚ Ø±Ø¦ÙŠØ³ÙŠØ©</div></div>
  <div class="sec-card"><img src="https://via.placeholder.com/80x60.png?text=Ù…Ø´Ø±ÙˆØ¨Ø§Øª"><div class="sec-name">Ù…Ø´Ø±ÙˆØ¨Ø§Øª</div></div>
</div>

<div id="menuList">
  <div class="card" data-name="ÙˆØ¬Ø¨Ø© Ù„Ø°ÙŠØ°Ø©" data-price="20">
    <img src="https://via.placeholder.com/200x140.png?text=ÙˆØ¬Ø¨Ø©1">
    <h3>ÙˆØ¬Ø¨Ø© Ù„Ø°ÙŠØ°Ø©</h3>
    <p>ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„ÙˆØ¬Ø¨Ø©</p>
    <div class="price">20 Ø±ÙŠØ§Ù„</div>
    <button class="add-btn">Ø§Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
  </div>
  <div class="card discount-card" data-name="ÙˆØ¬Ø¨Ø© Ù…Ø®ÙØ¶Ø©" data-price="25">
    <img src="https://via.placeholder.com/200x140.png?text=ÙˆØ¬Ø¨Ø©2">
    <h3>ÙˆØ¬Ø¨Ø© Ù…Ø®ÙØ¶Ø©</h3>
    <p>ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„ÙˆØ¬Ø¨Ø©</p>
    <div class="price"><span class="old-price">30 Ø±ÙŠØ§Ù„</span> <span class="discount-price">25 Ø±ÙŠØ§Ù„</span></div>
    <button class="add-btn">Ø§Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
  </div>
</div>

<button id="cartBtn">ğŸ›’<span>0</span></button>

<div id="cartOverlay"></div>
<div id="cartDrawer">
  <div class="cart-header">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ <button id="closeCartBtn">âœ–</button></div>
  <div id="cartItems"></div>
  <div class="cart-footer">
    <div class="total-line"><span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</span><span id="totalPrice">0 Ø±ÙŠØ§Ù„</span></div>
    <button class="primary-btn" onclick="alert('ØªÙ… Ø§Ù„Ø¯ÙØ¹!')">Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¢Ù†</button>
  </div>
</div>

<script>
const cartBtn=document.getElementById("cartBtn");
const cartDrawer=document.getElementById("cartDrawer");
const cartOverlay=document.getElementById("cartOverlay");
const closeCartBtn=document.getElementById("closeCartBtn");
const cartItems=document.getElementById("cartItems");
const totalPriceElem=document.getElementById("totalPrice");
let cart={};

cartBtn.addEventListener("click",()=>{cartDrawer.classList.add("open"); cartOverlay.classList.add("show");});
closeCartBtn.addEventListener("click",()=>{cartDrawer.classList.remove("open"); cartOverlay.classList.remove("show");});
cartOverlay.addEventListener("click",()=>{cartDrawer.classList.remove("open"); cartOverlay.classList.remove("show");});

document.querySelectorAll(".add-btn").forEach(btn=>{
  btn.addEventListener("click",(e)=>{
    const card=btn.parentElement;
    card.style.transform="scale(1.05)";
    setTimeout(()=>{card.style.transform="scale(1)";},200);

    const name=card.dataset.name;
    const price=parseFloat(card.dataset.price);
    if(cart[name]) cart[name].qty++;
    else cart[name]={price, qty:1};

    flyToCart(card.querySelector("img"));

    updateCart();
  });
});

function updateCart(){
  cartItems.innerHTML="";
  let total=0, count=0;
  for(let name in cart){
    const item=cart[name];
    total+=item.price*item.qty;
    count+=item.qty;
    const row=document.createElement("div");
    row.className="cart-row";
    row.innerHTML=`<span>${name}</span>
    <div class="controls">
      <button onclick="changeQty('${name}',-1)">-</button>
      <span>${item.qty}</span>
      <button onclick="changeQty('${name}',1)">+</button>
    </div>`;
    cartItems.appendChild(row);
  }
  totalPriceElem.textContent=total+" Ø±ÙŠØ§Ù„";
  cartBtn.querySelector("span").textContent=count;
}

function changeQty(name,delta){
  cart[name].qty+=delta;
  if(cart[name].qty<=0) delete cart[name];
  updateCart();
}

// âœ¨ ØªØ£Ø«ÙŠØ± Ø³Ù‚ÙˆØ· Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
function flyToCart(img){
  const flyingImg=img.cloneNode(true);
  flyingImg.className="flying-img";
  document.body.appendChild(flyingImg);
  const rect=img.getBoundingClientRect();
  flyingImg.style.top=rect.top+"px";
  flyingImg.style.left=rect.left+"px";

  const cartRect=cartBtn.getBoundingClientRect();
  setTimeout(()=>{
    flyingImg.style.transform=`translate(${cartRect.left-rect.left}px, ${cartRect.top-rect.top}px) scale(0.2)`;
    flyingImg.style.opacity="0";
  },10);
  setTimeout(()=>{flyingImg.remove(); cartBtn.classList.add("flash-cart-btn"); setTimeout(()=>cartBtn.classList.remove("flash-cart-btn"),400);},800);
}
</script>

</body>
</html>
